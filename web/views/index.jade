extends layout

include mixins/episodeBox.jade
include mixins/channelImage.jade

block content

    script(src='https://ajax.googleapis.com/ajax/libs/angularjs/1.3.9/angular.min.js', type='text/javascript')
    script(src='/javascripts/main.js', type='text/javascript')

    ul.episodes-list(ng-app="main", ng-controller="episodeList")
        li.episode-container(ng-repeat='episode in episodes')
            .channel-image(class='small', ng-show='episode.channel.images.length')
                img(src='/channel_images/{{episode.channel.images[0]._id}}.jpg')
            h3
                a.link(href='/episode/{{episode._id}}')
                    {{episode.title}}
            h4.channel-title
                a.channel-link(href='/channel/{{episode.channel._id}}')
                    {{episode.channel.title}}
            p.date
                {{formatDate(episode.pubDate)}}
            a.link(href='{{episode.link}}')
                {{truncateLink(episode.link, 75)}}
            p.description
                {{episode.description}}


